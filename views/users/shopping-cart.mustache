{{> header}}

<div class="container mt-5">
    <h2 class="mb-4">Shopping Cart</h2>
    
    {{#message}}
    <div class="alert alert-{{type}}">{{message}}</div>
    {{/message}}

    <div class="row">
        <div class="col-md-8">
            {{#cartItems}}
            <div class="card mb-3">
                <div class="card-body">
                    <h5 class="card-title">{{title}}</h5>
                    <p class="card-text">${{price}}</p>
                    <form action="/users/remove-from-cart" method="POST">
                        <input type="hidden" name="cartItemId" value="{{id}}">
                        <button type="submit" class="btn btn-sm btn-danger">Remove</button>
                    </form>
                </div>
            </div>
            {{/cartItems}}
            {{^cartItems}}
            <div class="text-center">
                <p class="mt-3">Your shopping cart is empty</p>
            </div>
            {{/cartItems}}
        </div>
        
        <div class="col-md-4">
            <div class="card">
                <div class="shopping-cart-card card-header">
                    <h5>Delivery Details</h5>
                </div>
                <div class="card-body">
                    <p><strong>Name:</strong> {{user.name}}</p>
                    <p><strong>Email:</strong> {{user.email}}</p>
                    <p><strong>Address:</strong> {{user.address}}</p>
                    <p><strong>Phone:</strong> {{user.phone}}</p>
                    <a href="/users/settings" class="btn btn-secondary">Update Details</a>
                </div>
            </div>
            
            {{#cartItems.length}}
            <div class="card mt-3">
                <div class="shopping-cart-card card-header">
                    <h5>Order Summary</h5>
                </div>
                <div class="card-body">
                    <p><strong>Total Items:</strong> {{totalItems}}</p>
                    <p><strong>Total Price:</strong> ${{totalPrice}}</p>
                    <button class="btn btn-primary w-100 mt-3">
                        <img src="/images/paypal.svg" alt="Paypal Logo" style="height: 24px;">
                        Checkout with PayPal
                    </button>
                </div>
            </div>
            {{/cartItems.length}}
        </div>
    </div>
</div>

{{> footer}} 